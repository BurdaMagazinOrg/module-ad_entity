<?php

/**
 * @file
 * Advertising Entity: DFP module file.
 */

/**
 * Implements hook_ad_entity_module_info().
 */
function ad_entity_dfp_ad_entity_module_info() {
  return [
    'personalization' => TRUE,
    'consent_aware' => TRUE,
  ];
}

/**
 * Implements hook_page_attachments().
 */
function ad_entity_dfp_page_attachments(&$attachments) {
  // Make sure the provider is always present.
  // We cannot foresee whether or not the provider is being used,
  // e.g. via Drupal attach behaviors and AJAX,
  // but it must be placed into the HTML head.
  $attachments['#attached']['library'][] = 'ad_entity/provider.googletag';
}

/**
 * Implements hook_theme().
 */
function ad_entity_dfp_theme($existing, $type, $theme, $path) {
  return [
    'dfp_default' => [
      'variables' => ['ad_entity' => NULL],
      'file' => 'ad_entity_dfp.theme.inc',
    ],
    'dfp_iframe' => [
      'variables' => ['ad_entity' => NULL],
      'file' => 'ad_entity_dfp.iframe.inc',
    ],
    'dfp_amp' => [
      'variables' => ['ad_entity' => NULL],
      'file' => 'ad_entity_dfp.amp.inc',
    ],
  ];
}
